# 組合語言和低級程式設計

## 組合語言介紹
組合語言是一種低級程式設計語言，直接對應機器指令集，是人類可讀的形式。它使用助記符來表示機器指令，並允許程式設計師直接操作硬件。
### 特點

#### 與硬件密切相關：
組合語言指令直接對應於機器碼，能夠高效控制硬件。
#### 高效能：
由於接近機器指令，組合語言程式通常比高級語言程式執行速度快。
#### 細節控制：
提供對內存和寄存器的直接訪問，允許進行精細的資源管理和優化。
#
### 組成部分

#### 助記符：
用於表示機器指令的簡單字符串，如MOV（移動）、ADD（加法）。
#### 操作數：
指令的操作數，可以是寄存器、內存地址或立即數。
#### 指令格式：
指令通常包括助記符和一個或多個操作數，如MOV AX, 1表示將數值1移動到寄存器AX。
#
### 應用

#### 嵌入式系統開發：
由於資源有限，需要高效的程式，組合語言廣泛應用於嵌入式系統。
#### 操作系統內核：
操作系統內核中需要直接控制硬件，組合語言提供了必要的低級控制。
#### 性能優化：
在需要極致性能的應用中，組合語言可以用來實現關鍵代碼段。
#

## 指令集架構
指令集架構（Instruction Set Architecture, ISA）是指計算機指令的集合及其格式，定義了計算機的基本操作和操作數類型。
### 指令類型

#### 數據移動指令：
如MOV、PUSH、POP，用於在寄存器和內存之間移動數據。
#### 算術指令：
如ADD、SUB、MUL、DIV，用於進行算術運算。
#### 邏輯指令：
如AND、OR、XOR、NOT，用於進行位操作。
#### 控制指令：
如JMP、CALL、RET，用於控制程式流程。
#### 特殊指令：
如NOP（無操作）、INT（中斷），用於特殊操作。
#
### 操作數類型

#### 立即數：
指令中直接給出的常數值。
#### 寄存器：
CPU內部的快速存儲單元，用於臨時存放數據。
#### 內存地址：
指向內存中某個位置的數據。
#
### 地址模式

#### 立即數模式：
操作數是指令中的常數值，如MOV AX, 1。
#### 寄存器模式：
操作數是寄存器，如MOV AX, BX。
#### 直接地址模式：
操作數是內存地址，如MOV AX, [1000h]。
#### 間接地址模式：
操作數是寄存器的內容作為地址，如MOV AX, [BX]。
#

## 寄存器和記憶體操作
寄存器和記憶體是計算機系統中存儲數據的兩個主要部分，組合語言提供了豐富的指令來操作它們。
### 寄存器操作

#### 數據移動：
如MOV指令，將數據在寄存器之間移動或從內存中加載到寄存器。
#### 算術運算：
如ADD、SUB，在寄存器中執行加法和減法操作。
#### 邏輯運算：
如AND、OR，在寄存器中執行位運算。
#### 位操作：
如SHL（左移）、SHR（右移），對寄存器中的位進行移動操作。
#
### 記憶體操作

#### 加載和存儲：
如MOV指令，將數據從內存加載到寄存器或從寄存器存儲到內存。
#### 堆棧操作：
如PUSH、POP，將數據壓入堆棧或從堆棧彈出。
#### 地址計算：
如基址加偏移地址模式，用於訪問數據結構中的特定位置。
#

## 系統調用和中斷
系統調用和中斷是操作系統與應用程序交互的主要機制，組合語言提供了直接支持這些功能的指令。
### 系統調用

#### 定義：
系統調用是應用程序請求操作系統服務的機制，如文件操作、內存分配等。
#### 實現：
通常通過特殊的中斷指令，如INT指令，將控制權轉移到操作系統內核。
#### 過程：
應用程序設置系統調用號和參數，執行中斷指令，操作系統處理後返回結果。
#
### 中斷

#### 定義：
中斷是外部或內部事件引發的異常，CPU暫停當前指令流，轉到中斷處理程序。
#### 類型：
硬件中斷（如鍵盤輸入）、軟件中斷（如系統調用）、異常（如除零錯誤）。
#### 處理過程：
保存當前執行狀態，執行中斷處理程序，恢復原狀態繼續執行。