# 操作系統

## 操作系統的功能
操作系統（Operating System，OS）是一種系統軟件，負責管理計算機硬件和軟件資源，為應用程序提供基本服務。操作系統的主要功能包括：

### 進程管理：
創建、調度和終止進程，管理進程之間的通信和同步。
### 記憶體管理：
分配和回收內存，實現內存保護和虛擬內存技術。
### 文件系統管理：
管理文件和目錄的創建、刪除、讀寫操作，提供存儲設備的抽象。
### 設備管理：
控制和管理各種硬件設備，提供驅動程序和設備接口。
### 用戶接口：
提供命令行界面（CLI）或圖形用戶界面（GUI）供用戶與系統交互。
#

## 記憶體管理
記憶體管理是操作系統的重要功能之一，負責管理計算機的內存資源。主要任務包括內存分配、內存保護和虛擬內存管理。

### 內存分配

#### 靜態分配：
在程序編譯時分配固定大小的內存區域，適用於全局變量和靜態變量。
#### 動態分配：
在程序運行時動態分配內存，如堆內存分配和釋放，適用於變長數據結構。
#
### 內存保護

#### 地址空間隔離：
每個進程有獨立的地址空間，防止進程之間相互影響。
#### 訪問權限控制：
操作系統設置內存區域的讀寫執行權限，防止非法訪問。
#
### 虛擬內存

#### 分頁：
將內存劃分為大小相等的頁，虛擬地址空間與物理地址空間分離，實現按需加載和交換。
#### 分段：
將內存劃分為不同大小的段，每個段有獨立的邏輯地址，便於內存保護和共享。
#

## 文件系統
文件系統是操作系統中負責管理和存儲數據的部分，提供文件和目錄的創建、刪除、讀寫操作，以及存儲設備的抽象。

### 文件管理
#### 文件結構：
文件系統提供文件的邏輯結構，如普通文件、目錄文件和特殊文件（如設備文件）。
#### 文件操作：
創建、刪除、讀取、寫入、打開和關閉文件，設置和查詢文件屬性。
#
### 目錄結構

#### 層次結構：
文件系統組織文件和目錄成層次結構，根目錄是最高級目錄，其他目錄和文件按樹形結構排列。
#### 路徑名：
絕對路徑和相對路徑用來標識文件和目錄的位置。
#
### 文件系統類型

#### FAT：
文件分配表（File Allocation Table），早期的文件系統，適用於小型存儲設備。
#### NTFS：
新技術文件系統（New Technology File System），支持大容量存儲設備和高效能。
#### EXT：
擴展文件系統（Extended File System），Linux常用文件系統，支持大文件和高效能。
#
## 進程管理
進程管理是操作系統的一項核心功能，負責創建、調度和終止進程，管理進程之間的通信和同步。
### 進程的創建和終止

#### 創建：
操作系統為每個新進程分配資源（如內存、文件描述符），初始化進程控制塊（PCB），並加入就緒隊列。
#### 終止：
操作系統釋放進程佔用的資源，將其從進程表中移除。
#
### 進程調度

#### 調度算法：
操作系統使用調度算法決定下一個運行的進程，如先來先服務（FCFS）、最短作業優先（SJF）、輪轉法（RR）等。
#### 上下文切換：
當進程切換時，操作系統保存當前進程的狀態（如寄存器值、程序計數器），並恢復下個進程的狀態。
#
### 進程通信和同步

#### 通信：
進程之間通過消息隊列、管道、共享內存等方式通信。
#### 同步：
操作系統提供信號量、互斥鎖、條件變量等同步機制，防止競爭條件和死鎖。
#

## 中斷和異常處理
中斷和異常處理是操作系統的一項重要功能，保證系統在出現硬件或軟件異常情況下的穩定運行。
### 中斷處理

#### 中斷類型：
硬件中斷（如鍵盤輸入、中斷請求）、軟件中斷（如系統調用、斷點）。
#### 中斷處理過程：
當中斷發生時，CPU暫停當前執行的任務，保存現場狀態，轉到中斷服務程序（ISR）處理，處理完畢後恢復現場繼續執行。
#
### 異常處理

#### 異常類型：
計算異常（如除零錯誤）、內存異常（如訪問非法地址）、I/O異常（如設備錯誤）。
#### 異常處理過程：
操作系統捕捉異常事件，執行相應的異常處理程序，如記錄錯誤信息、終止異常進程、進行系統恢復等。
